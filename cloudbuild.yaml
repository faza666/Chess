steps:

  - name: 'mcr.microsoft.com/dotnet/sdk:6.0'
    entrypoint: 'dotnet'
    args:
      - 'restore'
      - 'Web/Chess.Web/Chess.Web.csproj'
    id: 'RESTORE'
    dir: 'src'

  # - name: 'mcr.microsoft.com/dotnet/sdk:6.0'
  #   entrypoint: 'dotnet'
  #   args:
  #     - 'build'
  #     - '-c'
  #     - 'Release'
  #   id: 'BUILD'
  #   dir: 'src'

  - name: 'mcr.microsoft.com/dotnet/sdk:6.0'
    entrypoint: 'dotnet'
    args:
      - 'test'
      - '-c'
      - 'Release'
    id: 'TEST'
    dir: 'src'

  - name: 'mcr.microsoft.com/dotnet/sdk:6.0'
    entrypoint: 'dotnet'
    args:
      - 'publish'
      - '-c'
      - 'Release'
      - '-o'
      - '/app/publish'
    id: 'PUBLISH'
    dir: 'src'